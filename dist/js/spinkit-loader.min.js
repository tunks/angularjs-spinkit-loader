"use strict";angular.module("spinkitLoader",["ng","Gdo"]).directive("ngLoader",["$templateCache",function(e){return{restrict:"AE",scope:{settings:"="},template:'<ng-include class="loader-container" ng-show="showLoader" src="getTemplateUrl()"/>',link:function(e,t,n){var r=["sk-rotating-plane","sk-double-bounce","sk-wave","sk-wandering-cubes","sk-spinner-pulse","sk-chasing-dots","sk-three-bounce","sk-circle","sk-cube-grid","sk-fading-circle","sk-folding-cube"];return e._settings={spinkit:"sk-rotating-plane","class":""},angular.extend(e._settings,e.settings||[]),e.getTemplateUrl=function(){return-1==r.indexOf(e._settings.spinkit)?"sk-rotating-plane.html":e._settings.spinkit+".html"},e.showLoader=!1,e.$on("ajax-loader:show",function(){e.showLoader=!0}),e.$on("ajax-loader:hide",function(){e.showLoader=!1}),e}}}]).factory("httpInterceptor",["$q","$rootScope",function(e,t){var n=0;return{request:function(r){return n++,t.$broadcast("ajax-loader:show"),r||e.when(r)},response:function(r){return 0===--n&&t.$broadcast("ajax-loader:hide"),r||e.when(r)},responseError:function(r){return 0===--n&&t.$broadcast("ajax-loader:hide"),e.reject(r)}}}]).config(["$httpProvider",function(e){e.interceptors.push("httpInterceptor")}]);